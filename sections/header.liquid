{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "text",
      "id": "shop_name",
      "label": "Shop Name",
      "default": "Premium Sofas Co."
    }
  ]
}
{% endschema %}

<header class="site-header">
  <div class="container header-container">
    <div class="logo-section">
      {% if section.settings.logo %}
        <img src="{{ section.settings.logo | image_url: width: 250 }}" alt="{{ shop.name }}" class="logo">
      {% else %}
        <h1 class="shop-name">{{ section.settings.shop_name }}</h1>
      {% endif %}
    </div>
    
    <nav class="main-nav">
      {% for link in linklists.main-menu.links %}
        <a href="{{ link.url }}" class="nav-link {% if link.active %}active{% endif %}">
          {{ link.title }}
        </a>
      {% endfor %}
    </nav>
    
    <div class="header-icons">
      <a href="/search" class="icon-link search-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <circle cx="11" cy="11" r="8"></circle>
          <path d="m21 21-4.35-4.35"></path>
        </svg>
      </a>
      <a href="/account" class="icon-link account-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </a>
      <a href="/cart" class="icon-link cart-icon">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <circle cx="9" cy="21" r="1"></circle>
          <circle cx="20" cy="21" r="1"></circle>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
        </svg>
        <span class="cart-count">{{ cart.item_count }}</span>
      </a>
    </div>
  </div>
</header>

<style>
  .site-header {
    background-color: #f5f5f5;
    border-bottom: 1px solid #ddd;
    padding: 1rem 0;
    sticky: top;
  }
  
  .header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  .logo {
    max-width: 200px;
    height: auto;
  }
  
  .main-nav {
    display: flex;
    gap: 2rem;
  }
  
  .nav-link {
    text-decoration: none;
    color: #333;
    font-weight: 500;
    transition: color 0.3s;
  }
  
  .nav-link:hover,
  .nav-link.active {
    color: {{ settings.color_primary }};
  }
  
  .header-icons {
    display: flex;
    gap: 1.5rem;
  }
  
  .icon-link {
    display: inline-flex;
    align-items: center;
    color: #333;
    text-decoration: none;
    position: relative;
  }
  
  .cart-count {
    position: absolute;
    top: -8px;
    right: -8px;
    background-color: {{ settings.color_primary }};
    color: white;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: bold;
  }
</style>
